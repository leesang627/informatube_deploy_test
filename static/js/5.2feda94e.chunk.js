(this.webpackJsonpinformatube=this.webpackJsonpinformatube||[]).push([[5],{1267:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),i=a(40),l=a(1264),o=a(407),u=a.n(o),s=a(76),m=a(62),f=Object(s.a)((function(e){return{playerWrapper:{position:"relative",height:"50vh"},ReactPlayer:{position:"absolute",top:0,left:0}}})),d=function(e){var t=e.url,a=e.handlePlayedSec,n=f(),c=Object(i.b)(),l=Object(i.c)((function(e){return e.player})).playing;return r.a.createElement("div",{className:n.playerWrapper},r.a.createElement(u.a,{className:n.reactPlayer,url:t,width:"100%",height:"100%",controls:!0,onProgress:function(e){a(parseInt(e.playedSeconds))},playing:l,onPlay:function(){c({type:m.b})},onPause:function(){c({type:m.a})}}))},b=a(13),p=a(7),E=a(145),v=a(1234),h=a(1232),j=a(1233),g=a(414),O=a.n(g),y=a(1269),w=a(1255),C={SecTohhmmss:function(e){if(e<0)return"0:00";var t=function(e){return e<10?"0"+e.toString():e.toString()};if(e<60)return"0:"+t(String(e));if(e<3600)return String(parseInt(e/60))+":"+t(e%60);var a=parseInt(e/3600);return String(a)+":"+t(parseInt(e%3600/60))+":"+t(e%60)}},k=C,N=a(32),S=a(34),x=Object(s.a)((function(e){return{root:{width:"100%",height:"80px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},formContainer:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center"},inputContainer:{width:"90%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center"},inputForm:{width:"100%"},br1:{height:10,width:10},br2:{height:5,width:5},buttonContainer:{width:"100%",height:"100%"}}})),R=function(e){var t=e.playedSec,a=(e.name,e.canvasRef),l=Object(i.b)(),o=x(),u=Object(i.c)((function(e){return e.view})).mode,s=Object(i.c)((function(e){return e.player})).playing,f=Object(i.c)((function(e){return e.list})).isLoaded,d=Object(i.c)((function(e){return e.user.me})),g=d&&d._id,C=Object(n.useState)(!0),R=Object(c.a)(C,2),T=R[0],I=R[1],F=Object(n.useState)(!0),P=Object(c.a)(F,2),U=P[0],D=P[1],z=Object(n.useState)({time:"",url:"",info:""}),_=Object(c.a)(z,2),L=_[0],A=_[1],G=function(){I(!1),A(Object(p.a)({},L,{time:t})),l({type:m.a})},q=function(){I(!0),l({type:m.b})};Object(n.useEffect)((function(){!T&&L.url.match(/[-a-zA-Z0-9@:%_.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_.~#?&//=]*)?/g)?D(!1):D(!0)}),[T,L.time,L.url,L.info]),Object(n.useEffect)((function(){s?q():G()}),[s]),Object(n.useEffect)((function(){console.log("hello"),f&&A((function(e){return Object(p.a)({},e,{url:"",info:""})}))}),[f]);var W=function(e){A(Object(p.a)({},L,Object(b.a)({},e.target.id,e.target.value)))};return r.a.createElement("div",{className:o.root},T?r.a.createElement(y.a,{title:"\uc2dc\uac04 \uc120\ud0dd",TransitionComponent:w.a,arrow:!0},r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:G},k.SecTohhmmss(t),r.a.createElement("br",null),"\uc120\ud0dd")):r.a.createElement(y.a,{title:"\uc2dc\uac04 \uc120\ud0dd \ucde8\uc18c",TransitionComponent:w.a,arrow:!0},r.a.createElement(E.a,{variant:"contained",color:"secondary",onClick:q},k.SecTohhmmss(L.time),r.a.createElement("br",null),"\ucde8\uc18c")),r.a.createElement("div",{className:o.br1}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a.current&&a.current.clear(),l(Object(S.d)(L)),l(Object(N.k)(L.url,g)),l({type:N.b})},className:o.formContainer,autoComplete:"off"},r.a.createElement("div",{className:o.inputContainer},r.a.createElement("div",{className:o.inputForm},r.a.createElement(h.a,{size:"sm"},r.a.createElement(h.a.Prepend,null,r.a.createElement(h.a.Text,null,"\ub313\uae00")),r.a.createElement(j.a,{value:L.info,id:"info",onChange:W,"aria-label":"info","aria-describedby":"inputInfo",placeholder:"\uad00\ub828 \uc815\ubcf4\ub97c \ub313\uae00\ub85c \ub2ec\uc544\uc8fc\uc138\uc694.",disabled:"sketch"===u}),r.a.createElement(h.a.Append,null,r.a.createElement(v.a,{variant:"outline-secondary",onClick:function(){A(Object(p.a)({},L,{info:""}))},disabled:"sketch"===u},"\uc9c0\uc6b0\uae30"))),r.a.createElement("div",{className:o.br2}),r.a.createElement(h.a,{size:"sm"},r.a.createElement(h.a.Prepend,null,r.a.createElement(h.a.Text,null,"URL")),r.a.createElement(j.a,{value:L.url,id:"url",onChange:W,"aria-label":"url","aria-describedby":"inputURL",placeholder:"\ucd9c\ucc98 URL\uc744 \uc801\uc5b4\uc8fc\uc138\uc694.",disabled:"sketch"===u}),r.a.createElement(h.a.Append,null,r.a.createElement(v.a,{variant:"outline-secondary",onClick:function(){A(Object(p.a)({},L,{url:""}))},disabled:"sketch"===u},"\uc9c0\uc6b0\uae30"))))),r.a.createElement("div",{className:o.br1}),r.a.createElement(y.a,{title:"\uc2a4\ucf00\uce58 \ubaa8\ub4dc",TransitionComponent:w.a,arrow:!0},r.a.createElement(E.a,{color:"primary",type:"submit",variant:"contained",disabled:U},r.a.createElement(O.a,null)))))},T=a(644),I=a(1256),F=a(1261),P=a(1258),U=a(1257),D=a(1259),z=a(1270),_=a(81),L=a(1260),A={trunc:function(e,t){return e.length>t?e.substr(0,t-1)+"...":e}},G=A,q=Object(s.a)((function(e){return{inline:{display:"inline"}}})),W=function(e){var t=e.infostamp,a=e.viewRef,n=q(),c=Object(i.b)(),l=k.SecTohhmmss,o=G.trunc;return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{alignItems:"flex-start"},r.a.createElement(U.a,null,r.a.createElement(z.a,{alt:t.stamper.name},t.stamper.name.slice(0,2))),r.a.createElement(P.a,{primary:o(t.info,60),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{component:"span",variant:"body1",className:n.inline,color:"textPrimary"},o(t.url,70)),r.a.createElement("br",null),r.a.createElement(_.a,{component:"span",variant:"body2",className:n.inline,color:"textPrimary"},l(t.time),"~",l(t.time+10)," ------- \uc720\uc6a9\ud568 ",t.likedUsers.length," / \uc4f8\ubaa8\uc5c6\uc74c ",t.dislikedUsers.length))}),r.a.createElement(D.a,null,r.a.createElement(L.a,{onClick:function(){c(Object(N.i)(t)),c({type:N.c}),c(Object(N.j)(t)),setTimeout((function(){a.current.scrollTop=t.scroll}),100)},edge:"end","aria-label":"view"},r.a.createElement(O.a,null)))),r.a.createElement(F.a,{variant:"inset",component:"li"}))},B=a(30),H=Object(s.a)((function(e){return{root:{width:"100%"}}})),J=function(e){var t=e.playedSec,a=e.viewRef,c=Object(i.b)(),l=Object(i.c)((function(e){return e.list})).infostamps,o=H();Object(n.useEffect)((function(){c(Object(B.e)())}),[c]);var u=l&&l.filter((function(e){return parseInt(e.time)-1<t&&t<parseInt(e.time)+10})).sort((function(e,t){return e.likedUsers.length-e.dislikedUsers.length-(t.likedUsers.length-t.dislikedUsers.length)}));return r.a.createElement("div",null,r.a.createElement(T.a,{className:o.root},u&&u.map((function(e){return r.a.createElement(W,{key:e.createdAt,infostamp:e,viewRef:a})}))))},V=a(645),Z=a(1262),K=Object(s.a)((function(e){return{image:{width:"100%",position:"absolute",top:0,left:0},canvas:{position:"absolute",top:0,left:0,width:"100%"},cover:{width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:1,backgroundColor:"white"},progress:{position:"absolute",top:"40%",left:"40%",display:"flex",flexDirection:"column",alignItems:"center"}}})),M=function(e){var t=e.src,a=e.canvasRef,l=K(),o=Object(i.c)((function(e){return e.view})).isChanging,u=Object(n.useRef)(),s=Object(n.useState)(200),m=Object(c.a)(s,2),f=m[0],d=m[1];return Object(n.useEffect)((function(){u.current&&(console.log(u.current.height),d(u.current.height))}),[u.current]),r.a.createElement(r.a.Fragment,null,o?r.a.createElement("div",{className:l.cover},r.a.createElement("div",{className:l.progress},r.a.createElement(Z.a,null),r.a.createElement("div",null,r.a.createElement("br",null),"\uc2a4\ucf00\uce58 \uc900\ube44 \uc911"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{ref:u,src:t,className:l.image,alt:"View"}),r.a.createElement(V.SketchField,{className:l.canvas,ref:a,tool:V.Tools.Pencil,lineColor:"rgba(255,0,0,0.7)",lineWidth:3,height:f})))},Q=a(1263),X=a(1229),Y=a.n(X),$=a(626),ee=a.n($),te=Object(s.a)((function(e){return{buttonContainer:{width:300,height:50,position:"absolute",left:50,top:520},buttonGroup:{display:"flex",justifyContent:"center"}}})),ae=function(e){var t=e.canvasRef,a=e.uid,n=te(),c=Object(i.c)((function(e){return e.infostamp})),l=c.isSaving,o=c.isSaved,u=Object(i.c)((function(e){return e.infostamp.formData})),s=u.url,m=u.info,f=u.time,d=Object(i.c)((function(e){return e.view})).scroll,b=Object(i.b)();return r.a.createElement("div",{className:n.buttonContainer},r.a.createElement("div",{className:n.buttonGroup},r.a.createElement(Q.a,{color:"primary",variant:"contained","aria-label":"contained primary button group"},r.a.createElement(y.a,{title:"\uc2a4\ucf00\uce58 \ucde8\uc18c",TransitionComponent:w.a,arrow:!0},r.a.createElement(E.a,{onClick:function(){t.current.undo()}},r.a.createElement(Y.a,null))),r.a.createElement(E.a,{onClick:function(){var e=t.current.toDataURL();b(Object(S.f)({imgData:e,uid:a,url:s,info:m,time:f,scroll:d})),b(Object(B.e)())}},l?r.a.createElement(Z.a,{size:20,color:"inherit"}):o?r.a.createElement(r.a.Fragment,null,"\uc644\ub8cc"):r.a.createElement(r.a.Fragment,null,"\ub313\uae00")),r.a.createElement(y.a,{title:"\ub2eb\uae30",TransitionComponent:w.a,arrow:!0},r.a.createElement(E.a,{onClick:function(){b({type:N.a})}},r.a.createElement(ee.a,null))))))},ne=a(1230),re=a.n(ne),ce=a(1231),ie=a.n(ce),le=a(15),oe=Object(s.a)((function(e){return{buttonContainer:{width:300,height:50,position:"absolute",left:50,top:520},buttonGroup:{display:"flex",justifyContent:"center"},closeButton:{position:"absolute",right:10,top:15}}})),ue=function(e){var t=e.uid,a=oe(),l=Object(i.b)(),o=Object(i.c)((function(e){return e.view.selectedInfostamp})).url,u=Object(i.c)((function(e){return e.view})).selectedInfostamp,s=Object(n.useState)(!1),m=Object(c.a)(s,2),f=m[0],d=m[1],b=Object(n.useState)(!1),p=Object(c.a)(b,2),v=p[0],h=p[1];Object(n.useEffect)((function(){d(!1),h(!1)}),[o]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.closeButton},r.a.createElement(L.a,{onClick:function(){l({type:N.a})}},r.a.createElement(ee.a,null))),r.a.createElement("div",{className:a.buttonContainer},r.a.createElement("div",{className:a.buttonGroup},r.a.createElement(Q.a,{color:"primary",variant:"contained","aria-label":"contained primary button group"},r.a.createElement(y.a,{title:"\uc720\uc6a9\ud568",TransitionComponent:w.a,arrow:!0},r.a.createElement(E.a,{color:f?"secondary":"primary",onClick:function(){var e=u._id;f||v?f&&!v&&(d(!1),l(Object(le.n)(t,e))):(d(!0),l(Object(le.q)(t,e)))},disabled:v},r.a.createElement(re.a,null))),r.a.createElement(E.a,{onClick:function(){console.log(o),window.open(o,"_blank").focus()}},"\ub9c1\ud06c"),r.a.createElement(y.a,{title:"\uc4f8\ubaa8\uc5c6\uc74c",TransitionComponent:w.a,arrow:!0},r.a.createElement(E.a,{color:v?"secondary":"primary",onClick:function(){var e=u._id;f||v?!f&&v&&(h(!1),l(Object(le.m)(t,e))):(h(!0),l(Object(le.p)(t,e)))},disabled:f},r.a.createElement(ie.a,null)))))))},se=Object(s.a)((function(e){return{window:{width:"100%",height:512,overflow:"auto",position:"relative"},image:{width:"100%",position:"absolute",top:0,left:0},sketch:{border:"1px solid red"},viewer:{border:"1px solid blue"},infoContainer:{width:"100%",padding:5,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}}})),me=function(e){var t=e.uid,a=e.canvasRef,c=e.viewRef,l=se(),o=Object(i.b)(),u=Object(n.useRef)(),s=G.trunc,m=Object(i.c)((function(e){return e.view})),f=m.mode,d=m.imageUrl,b=m.selectedInfostamp;return r.a.createElement(r.a.Fragment,null,"sketch"===f?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:l.sketch},r.a.createElement("div",{className:l.infoContainer},r.a.createElement(_.a,{variant:"subtitle1",color:"secondary"},"\uc2a4\ucf00\uce58 \ubaa8\ub4dc"),r.a.createElement(_.a,{variant:"subtitle2"},"\uc6d0\ud558\ub294 \uc704\uce58\ub85c \uc2a4\ud06c\ub864 \ud6c4, \ud45c\uc2dc\ub97c \ud574\uc8fc\uc138\uc694.")),r.a.createElement("div",{className:l.window,onScroll:function(){o(Object(N.g)(u.current.scrollTop))},ref:u},r.a.createElement(M,{canvasRef:a,src:d,uid:t}))),r.a.createElement(ae,{canvasRef:a,uid:t})):"viewer"===f?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:l.viewer},r.a.createElement("div",{className:l.infoContainer},r.a.createElement(_.a,{variant:"subtitle1",color:"primary"},s(b.info,30)),r.a.createElement(_.a,{variant:"subtitle2"},s(b.url,40))),r.a.createElement("div",{className:l.window,ref:c},r.a.createElement("img",{src:d,className:l.image,alt:"View"}))),r.a.createElement(ue,{uid:t})):r.a.createElement("div",null))},fe=function(){var e=Object(i.c)((function(e){return e.user.me})),t=e&&e.name,a=e&&e._id,o=Object(n.useState)(0),u=Object(c.a)(o,2),s=u[0],m=u[1],f=Object(n.useRef)(),b=Object(n.useRef)();return r.a.createElement("div",{style:{flexGrow:1}},r.a.createElement(l.a,{container:!0,spacing:2},r.a.createElement(l.a,{item:!0,xs:8},r.a.createElement(d,{url:"https://www.youtube.com/watch?v=e1tqHqLFHIU",handlePlayedSec:function(e){m(e)}}),r.a.createElement(R,{playedSec:s,name:t,canvasRef:f}),r.a.createElement(J,{playedSec:s,viewRef:b})),r.a.createElement(l.a,{item:!0,xs:4,style:{position:"relative"}},r.a.createElement(me,{uid:a,canvasRef:f,viewRef:b}))))};t.default=function(){return r.a.createElement("div",null,r.a.createElement(fe,null))}},443:function(e,t){},696:function(e,t){},697:function(e,t){},781:function(e,t){},783:function(e,t){},794:function(e,t){},796:function(e,t){},825:function(e,t){},826:function(e,t){},887:function(e,t){}}]);
//# sourceMappingURL=5.2feda94e.chunk.js.map